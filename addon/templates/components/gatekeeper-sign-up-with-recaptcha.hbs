{{#mdc-form submit=(action "submit") validity=(action (mut valid))}}
  {{#unless useEmailForUsername}}
    {{mdc-textfield-with-helper-text class="gatekeeper-sign-up__username"
                                     type="text"
                                     style=style
                                     value=username
                                     label=usernameLabel
                                     errorMessage=usernameErrorMessage
                                     helperText=usernameHelperText
                                     required=true
                                     icon=usernameIcon
                                     iconPosition=usernameIconPosition
                                     iconClickable=usernameIconClickable
                                     autocapitalize="none"}}
  {{/unless}}

  {{mdc-textfield-with-helper-text class="gatekeeper-sign-up__email"
                                   type="email"
                                   style=style
                                   value=email
                                   label=emailLabel
                                   errorMessage=emailErrorMessage
                                   helperText=emailHelperText
                                   required=true
                                   icon=emailIcon
                                   iconPosition=emailIconPosition
                                   iconClickable=emailIconClickable}}

  {{mdc-password-textfield-with-helper-text class="gatekeeper-sign-up__password"
                                            style=style
                                            value=password
                                            label=passwordLabel
                                            helperText=passwordHelperText
                                            required=true
                                            requirements=passwordRequirements
                                            valid=validPassword}}


  {{#if mustConfirmPassword}}
    {{mdc-password-textfield-with-helper-text class="gatekeeper-sign-up__password-confirm"
                                              style=style
                                              value=confirmPassword
                                              label=confirmPasswordLabel
                                              errorMessage=confirmErrorMessage
                                              required=true}}
  {{/if}}

  {{component recaptchaComponentName
              siteKey=siteKey
              verified=(action "verified")
              reset=reset
              execute=execute}}

  {{#mdc-button type="submit" style=submitButtonStyle disabled=disabled}}
    {{submitButtonText}}
  {{/mdc-button}}

{{/mdc-form}}

{{mdc-snackbar message=messageToUser}}
